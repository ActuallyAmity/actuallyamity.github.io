var FlowTheme=function(e){"use strict";class t{static trackPageHash(e,t){const i=new IntersectionObserver((i=>{i.forEach((i=>{if(i.isIntersecting){const s=i.target.getAttribute("id");if(s){window.history.replaceState(null,null,`#${s}`);document.querySelectorAll(e).forEach((e=>{e.classList.remove(t),e.getAttribute("data-target")===s&&e.classList.add(t)}))}}}))}),{threshold:.5});document.querySelectorAll(".page").forEach((e=>{i.observe(e)}))}static lazyLoad(e,t,i){if(!(e=document.getElementById(e)))return console.error("[LazyLoad]: Element not found");let s;new IntersectionObserver(((e,r)=>{e.forEach((e=>{if(e.isIntersecting){const o=e.target;s=setTimeout((()=>{if(!i)throw new Error("[LazyLoad]: Callback function not provided");try{i()}catch(e){throw new Error(`[LazyLoad]: Callback failed: ${e}`)}r.unobserve(o),console.log("[LazyLoad]: "+o.id)}),t)}else clearTimeout(s)}))})).observe(e),console.log(`[LazyLoad]: Waiting to load ${e.id}`)}static get check(){return{currentURL:t._getCurrentURL(),isMobileDevice:t._testForMobile()}}static _getCurrentURL(){return window.location.origin.split("//")[1]}static _testForMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}return new class{constructor(){this.source="6a92351396da31b26e2d97f204f3d1a0",this.init()}init(){this._makeOverlay(),this._styleOverlay(),this._openOnKeypress("`")}spawnOverlay(){fetch(this.source).then((e=>e.json())).then((e=>{this.html=e.files["overlay.html"].content})).then((()=>{this.overlay.innerHTML=this.html,document.body.appendChild(this.overlay)})).catch((e=>console.error(`[Info-Overlay]: ${e}`)))}_makeOverlay(){const e=document.createElement("div");e.id="bnj0--overlay-main",this.overlay=e}_styleOverlay(){const{style:e}=this.overlay;e.display="flex",e.justifyContent="center",e.alignItems="center",e.position="fixed",e.zIndex="9999",e.top="0",e.bottom="0",e.left="0",e.right="0",e.minWidth="100vw",e.minHeight="100vh"}_openOnKeypress(e){document.addEventListener("keydown",(t=>t.key===e&&this.spawnOverlay()))}set source(e){this._source=`https://api.github.com/gists/${e}`}get source(){return this._source}set html(e){var t;this._html=`\`${t=e,t.replace(/<!--(.*?)-->|\s\B/gm,"")}\``}get html(){return this._html}set overlay(e){this._overlay=e}get overlay(){return this._overlay}},new class{constructor(e){this.headerId=e,this.init()}init(){this.origin=this.calculateInitialPosition(),this._onScroll(this.toggleSticky)}calculateInitialPosition(e=this.header){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX}}toggleSticky(e=window.scrollY){e>this.offsetTop?this._makeSticky():this._makeNotSticky(),e<=this.origin.top&&this._makeNotSticky()}_makeSticky(){this.header.classList.contains("sticky")||(this._createPlaceholder(),this._addClass("sticky"))}_makeNotSticky(){this.header.classList.contains("sticky")&&(this._removePlaceholder(),this._removeClass("sticky"))}_createPlaceholder(){const e=document.createElement("div");e.style.height=`${this.header.offsetHeight}px`,this.header.parentNode.insertBefore(e,this.header),this.placeholder=e}_removePlaceholder(){this.placeholder&&(this.placeholder.parentNode.removeChild(this.placeholder),this.placeholder=null)}_onScroll(e){window.addEventListener("scroll",(()=>e.call(this)))}_addClass(e){this.header.classList.add(e)}_removeClass(e){this.header.classList.remove(e)}set headerId(e){if(e instanceof Element)return this._header=e;const t=document.getElementById(e);t?this._header=t:console.error(`[StickyHeader]: Missing element by ID ${e}`)}get header(){return this._header}get offsetTop(){return this.header.offsetTop}set origin(e){this._origin=e}get origin(){return this._origin}}("landing-nav"),t.trackPageHash(".landing-nav a","active"),e.Utils=t,e}({});
